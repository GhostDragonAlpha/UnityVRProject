HTTP API ENDPOINT MAP
======================
Server: GodotTPD (godottpd library)
Port: 8080
Bind: 127.0.0.1 (localhost only)
Authentication: JWT Bearer tokens (required for most endpoints)

LEGEND:
  âœ… - Endpoint exists and responds
  âŒ - Endpoint not found (404)
  ğŸ”’ - Authentication required (401 without token)
  ğŸŒ - Public endpoint (no auth required)
  â±ï¸ - Response time measured
  ğŸ“ - Documented in CLAUDE.md
  ğŸ’¾ - Router exists in codebase
  ğŸš« - Router exists but NOT registered

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REGISTERED ENDPOINTS                              â”‚
â”‚                     (Actively serving requests)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‚ SCENE MANAGEMENT (All require ğŸ”’ Authentication)

  GET    /scene              âœ… ğŸ”’ â±ï¸ 2.7-7.4ms    Get current scene info
  POST   /scene              âœ… ğŸ”’              Load a scene by path
  PUT    /scene              âœ… ğŸ”’              Validate a scene

  GET    /scenes             âœ… ğŸ”’ â±ï¸ 4.8-10.4ms  List available scenes

  POST   /scene/reload       âœ… ğŸ”’              Hot-reload current scene

  GET    /scene/history      âœ… ğŸ”’ â±ï¸ 9.4-12.2ms  Get scene load history


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DOCUMENTED BUT NOT FOUND                            â”‚
â”‚                  (Referenced in CLAUDE.md but 404)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‚ STATUS/HEALTH (Expected ğŸŒ Public)

  GET    /status             âŒ ğŸ“ â±ï¸ 6.4ms      System status
  GET    /health             âŒ ğŸ“ â±ï¸ 9.4ms      Health check

ğŸ“‚ STATE (Expected ğŸ”’ Auth Required)

  GET    /state/scene        âŒ ğŸ“ â±ï¸ 26.3ms     Current scene state
  GET    /state/player       âŒ ğŸ“ â±ï¸ 5.9ms      Player state


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ROUTERS IN CODEBASE - NOT REGISTERED                   â”‚
â”‚         (Code exists in scripts/http_api/ but not in server)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‚ AUTHENTICATION (ğŸš« auth_router.gd)

  POST   /auth/login         ğŸ’¾ ğŸš«              Authenticate and get token
  POST   /auth/refresh       ğŸ’¾ ğŸš«              Refresh JWT token
  GET    /auth/status        ğŸ’¾ ğŸš« ğŸ”’          Token status and validity
  GET    /auth/metrics       ğŸ’¾ ğŸš« ğŸ”’          Token usage metrics
  GET    /auth/audit         ğŸ’¾ ğŸš« ğŸ”’          Authentication audit log

ğŸ“‚ ADMIN (ğŸš« admin_router.gd)

  GET    /admin              ğŸ’¾ ğŸš« ğŸ”’          Admin dashboard
  GET    /admin/metrics      ğŸ’¾ ğŸš« ğŸ”’          System metrics
  GET    /admin/config       ğŸ’¾ ğŸš« ğŸ”’          Configuration management
  POST   /admin/restart      ğŸ’¾ ğŸš« ğŸ”’          Restart system
  GET    /admin/audit        ğŸ’¾ ğŸš« ğŸ”’          Audit log

ğŸ“‚ PERFORMANCE (ğŸš« performance_router.gd)

  GET    /performance        ğŸ’¾ ğŸš« ğŸ”’          Overall performance metrics
  GET    /performance/fps    ğŸ’¾ ğŸš« ğŸ”’          FPS and frame timing
  GET    /performance/memory ğŸ’¾ ğŸš« ğŸ”’          Memory usage
  GET    /performance/profileğŸ’¾ ğŸš« ğŸ”’          Profiling data

ğŸ“‚ WEBHOOKS (ğŸš« webhook_router.gd + webhook_detail_router.gd + webhook_deliveries_router.gd)

  GET    /webhooks           ğŸ’¾ ğŸš« ğŸ”’          List webhooks
  POST   /webhooks           ğŸ’¾ ğŸš« ğŸ”’          Create webhook
  GET    /webhooks/:id       ğŸ’¾ ğŸš« ğŸ”’          Get webhook details
  PUT    /webhooks/:id       ğŸ’¾ ğŸš« ğŸ”’          Update webhook
  DELETE /webhooks/:id       ğŸ’¾ ğŸš« ğŸ”’          Delete webhook
  GET    /webhooks/:id/deliveries ğŸ’¾ ğŸš« ğŸ”’    Webhook delivery history

ğŸ“‚ JOBS (ğŸš« job_router.gd + job_detail_router.gd)

  GET    /jobs               ğŸ’¾ ğŸš« ğŸ”’          List background jobs
  POST   /jobs               ğŸ’¾ ğŸš« ğŸ”’          Create background job
  GET    /jobs/:id           ğŸ’¾ ğŸš« ğŸ”’          Get job status
  DELETE /jobs/:id           ğŸ’¾ ğŸš« ğŸ”’          Cancel job

ğŸ“‚ BATCH OPERATIONS (ğŸš« batch_operations_router.gd)

  POST   /batch              ğŸ’¾ ğŸš« ğŸ”’          Execute batch operations

ğŸ“‚ WHITELIST (ğŸš« whitelist_router.gd)

  GET    /whitelist          ğŸ’¾ ğŸš« ğŸ”’          Get scene whitelist
  POST   /whitelist          ğŸ’¾ ğŸš« ğŸ”’          Add to whitelist
  DELETE /whitelist          ğŸ’¾ ğŸš« ğŸ”’          Remove from whitelist


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VOXEL-SPECIFIC ENDPOINTS                              â”‚
â”‚                       (NOT IMPLEMENTED)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‚ VOXEL PERFORMANCE (No router exists)

  GET    /performance/voxel  âŒ MISSING         Voxel terrain metrics
  GET    /voxel/chunks       âŒ MISSING         Active chunk count
  GET    /voxel/lod          âŒ MISSING         LOD system status
  GET    /voxel/memory       âŒ MISSING         Voxel memory usage
  GET    /voxel/generation   âŒ MISSING         Chunk generation queue

ğŸ“‚ AUTOLOAD ACCESS (No router exists)

  GET    /autoload/VoxelPerformanceMonitor  âŒ MISSING  Direct autoload data
  GET    /autoload/ResonanceEngine          âŒ MISSING  Engine status


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AUTHENTICATION                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Method: JWT (JSON Web Tokens)
Header: Authorization: Bearer <token>
Token Location: Printed to Godot console at startup
Token Expiration: 1 hour (3600 seconds)
Fallback: Legacy 64-char hex tokens

Example:
  curl -H 'Authorization: Bearer eyJhbGc...' http://127.0.0.1:8080/scene

Public Endpoints (no auth required):
  - OPTIONS *  (CORS preflight)
  - GET /health (defined but NOT FOUND)
  - GET /status (defined but NOT FOUND)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RESPONSE CODES                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

200 OK              - Successful request
401 Unauthorized    - Missing/invalid authentication token
404 Not Found       - Endpoint not registered
429 Too Many Requests - Rate limit exceeded
503 Service Unavailable - Godot API not ready


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RATE LIMITING                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Algorithm: Token bucket
Default: 100 requests/minute per IP
Window: 60 seconds

Per-endpoint limits:
  /scene         30 req/min   (expensive operation)
  /scene/reload  20 req/min   (very expensive)
  /scenes        60 req/min   (less expensive)
  /scene/history 100 req/min  (cheap read)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REGISTRATION STATUS                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Registered Routers (4):
  1. SceneHistoryRouter     (/scene/history)
  2. SceneReloadRouter      (/scene/reload)
  3. SceneRouter            (/scene)
  4. ScenesListRouter       (/scenes)

Available but NOT Registered (10+):
  - AuthRouter
  - AdminRouter
  - PerformanceRouter
  - WebhookRouter (+ detail, deliveries)
  - JobRouter (+ detail)
  - BatchOperationsRouter
  - WhitelistRouter
  - Health/Status router (doesn't exist in codebase)

Missing (needs creation):
  - VoxelPerformanceRouter
  - AutoloadAccessRouter
  - HealthRouter
  - StatusRouter


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PERFORMANCE SUMMARY                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Response Times (ms):
  Fastest: GET /scene           2.7ms
  Slowest: GET /state/scene    26.3ms  (404 - not found)
  Average: 8.2ms

All tested endpoints respond in <30ms - EXCELLENT performance


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ISSUES                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CRITICAL:
  âŒ No voxel-specific endpoints exist
  âŒ Core monitoring endpoints (status/health) not registered
  âŒ Cannot access authentication token (needs Agent 1)

HIGH:
  âš ï¸ Multiple Godot processes running (4 detected)
  âš ï¸ Documentation doesn't match implementation
  âš ï¸ 10+ routers exist but not registered

MEDIUM:
  âš ï¸ No endpoint to retrieve current JWT token
  âš ï¸ No API documentation endpoint

LOW:
  â„¹ï¸ Admin router exists but not exposed
  â„¹ï¸ Performance router exists but not exposed


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RECOMMENDATIONS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IMMEDIATE (Agent 1):
  1. Provide JWT token from Godot console
  2. Kill redundant Godot processes
  3. Restart Godot with console logging to file

SHORT-TERM:
  4. Register PerformanceRouter in http_api_server.gd
  5. Create VoxelPerformanceRouter.gd
  6. Register Health/Status routers (or create if missing)

LONG-TERM:
  7. Add GET /api/docs for endpoint discovery
  8. Add GET /auth/token for token retrieval
  9. Fix CLAUDE.md documentation to match reality
  10. Register all available routers or document why they're disabled
